### 1.jvm

包含一套[字节码](https://so.csdn.net/so/search?q=字节码&spm=1001.2101.3001.7020)指令集，一组寄存器，一个栈，一个垃圾回收堆和一个存储方法域。

![image-20220814202846940](C:\Users\wenxinyi\AppData\Roaming\Typora\typora-user-images\image-20220814202846940.png)

内存溢出情况：

![image-20220814202959037](C:\Users\wenxinyi\AppData\Roaming\Typora\typora-user-images\image-20220814202959037.png)

### 2、NIO

NIO的底层工作原理
先来了解一下buffer的工作机制：

capacity 缓冲区数组的总长度
position 下一个要操作的数据元素的位置
limit 缓冲区数组中不可操作的下一个元素的位置，limit<=capacity
mark 用于记录当前 position 的前一个位置或者默认是 0

(1)这一步其实是当我们刚开始初始化这个buffer数组的时候，开始默认是这样的；
(2)但是当你往buffer数组中开始写入的时候几个字节的时候就会变成下面的图，position会移动你数据的结束的下一个位置，这个时候你需要把buffer中的数据写到channel管道中，所以此时我们就需要用这个buffer.flip();方法；

(3)当你调用完2中的方法时，这个时候就会变成下面的图了，这样的话其实就可以知道你刚刚写到buffer中的数据是在position---->limit之间，然后下一步调用clear（）；

### 3、并发编程

同步**VS**异步
同步和异步通常用来形容一次方法调用。同步方法调用一开始，调用者必须等待被调用的方法结束后，调用者后面的代码才能执行。而异步调用，指的是，调用者不用管被调用方法是否完成，都会继续执行后面的代码，当被调用的方法完成后会通知调用者。比如，在超市购物，如果一件物品没了，你得等仓库人员跟你调货，直到仓库人员给你把货物送过来，你才能继续去收银台付款，这就类似同步调用。而异步调用了，就像网购，你在网上付款下单后，什么事就不用管了，该干嘛就干嘛去了，当货物到达后你收到通知去取就好。

**并发与并行**
并发和并行是十分容易混淆的概念。并发指的是多个任务交替进行，而并行则是指真正意义上的“同时进行”。实际上，如果系统内只有一个CPU，而使用多线程时，那么真实系统环境下不能并行，只能通过切换时间片的方式交替进行，而成为并发执行任务。真正的并行也只能出现在拥有多个CPU的系统中。

**阻塞和非阻塞**
阻塞和非阻塞通常用来形容多线程间的相互影响，比如一个线程占有了临界区资源，那么其他线程需要这个资源，就必须进行等待该资源的释放，会导致等待的线程挂起，这种情况就是阻塞，而非阻塞就恰好相反，它强调没有一个线程可以阻塞其他线程，所有的线程都会尝试地往前运行。

**临界区**
临界区用来表示一种公共资源或者说是共享数据，可以被多个线程使用。但是每个线程使用时，一旦临界区资源被一个线程占有，那么其他线程必须等待。

### 4、Spring的ORM

![image-20220814203746167](C:\Users\wenxinyi\AppData\Roaming\Typora\typora-user-images\image-20220814203746167.png)

### 5、MySQL数据库和SQL

SQL是一种用于操作数据库的语言

MySQL是市场上第一个可用的开源数据库之一

SQL用于访问，更新和操作数据库中的数据

MySQL是一种RDBMS，它允许保持数据库中存在的数据

SQL是结构化查询语言

MySQL是一个使用MYSQL存储，检索，修改和管理数据库的RDBMS

SQL是一种查询语言，而MYSQL是数据库软件

### 6、分库分表

sharding-jdbc 是一个开源的适用于微服务的分布式数据访问基础类库，它始终以云原生的基础开发套件为目标。

sharding-jdbc定位为轻量级java框架,使用客户端直连数据库,以jar包的形式提供服务,未使用中间层,无需额外部署,并无其他依赖,,可以理解为增强版的JDBC驱动

sharding-jdbc完整的实现了分库分表/读写分离/分布式主键功能,并实现了柔性事务.

分库分表
sql解析功能完善,支持聚合,分组,排序,limit等查询,并且支持级联表和笛卡尔积的表查询
支持内/外连接查询
分片策略灵活,可支持=,between,in等多维度分片,以及自定义分片策略
基于hint的强制分库分表路由
读写分离
一主多从的读写分离配置,可配合分库分表使用
基于hint的强制分库分表路由
柔性事务
最大努力送大型事务
TCC型事务(TBD)
分布式主键
统一的分布式基于时间序列id生成器
兼容性
可适用于java的ORM框架
可基于第三方数据库连接池
灵活多样配置
java
springBoot
分布式治理能力

### 7、RPC和微服务

对比：
（1）协议：服务间通信协议不同，Dubbo是基于TCP协议的rpc，spring cloud基于http协议。
（2）RPC避免了上面提到的原生RPC带来的问题。而且REST相比RPC更为灵活，SpringCloud不存在代码级别的强依赖
（3）效率：由于协议的不同，调用的效率相比之下Dubbo比SpringCLoud效率高。
（4）技术开放性：SpringCLoud基于http协议，由于http的协议更方便于多语言情况下的整合，提供服务方可以用任意语言开发服务。
（5）spring cloud是微服务生态，包括完整的微服务相关的组件工具集，而RPC是远程调用的技术，仅仅是微服务的一部分，而dubbo框架正是RPC的实现框架。
（6）Spring Cloud还提供了包括Netflix Eureka、hystrix、feign、Spring Boot Admin 、Sleuth、config、stream、security、sleuth等分布式服务解决方案，
   而Dubbo为了拥抱融入Spring Cloud生态，Dubbo也在积极规划和演进适配SpringCloud生态的新版本。

### 8、分布式缓存

**分布式缓存的常见问题**

**缓存穿透：**

DB中不存在数据，每次都穿过缓存查DB，造成DB的压力。一般是网络攻击

解决方案：放入一个特殊对象（比如特定的无效对象，当然比较好的方式是使用包装对象）

**缓存击穿：**

在缓存失效的瞬间大量请求，造成DB的压力瞬间增大

解决方案：更新缓存时使用分布式锁锁住服务，防止请求穿透直达DB

**缓存雪崩：**

大量缓存设置了相同的失效时间，同一时间失效，造成服务瞬间性能急剧下降

解决方案：缓存时间使用基本时间加上随机时间



### 9、分布式消息队列

![image-20220814204636427](C:\Users\wenxinyi\AppData\Roaming\Typora\typora-user-images\image-20220814204636427.png)

